(function(){var request,htmlContent,headers,states,stateCode,url,submitRequest,initTime;var readyStates=["UNINITIALIZED","LOADING","LOADED","INTERACTIVE","COMPLETE"];function htmlEntities(str){return decodeURI(encodeURI(str).replace(/%0A/g,"<br/>").replace(/%3C/g,"&lt;").replace(/%3E/g,"&gt;"))}function initVars(){htmlContent=document.getElementById("htmlContent");headers=document.getElementById("headers");states=document.getElementById("states");stateCode=document.getElementById("stateCode");url=document.getElementById("url");submitRequest=document.getElementById("submitRequest")}function resetVars(){htmlContent.innerHTML="";states.innerHTML="";initTime=new Date}function loadContent(){resetVars();request=new XMLHttpRequest;request.addEventListener("readystatechange",showContent);request.open("GET",url.value+"?nocache="+Math.random(),true);request.send()}function showContent(){var endTime=new Date;var time=endTime-initTime;states.innerHTML+="<strong>"+readyStates[request.readyState]+":</strong> "+time+" mseg<br/>";if(request.readyState==4){if(request.status==200)htmlContent.innerHTML=htmlEntities(request.responseText);headers.innerHTML=htmlEntities(request.getAllResponseHeaders());stateCode.innerHTML=request.status+": "+request.statusText}}document.addEventListener("DOMContentLoaded",function(){initVars();url.value=location.href;submitRequest.addEventListener("click",function(ev){ev.preventDefault();loadContent()})})})();